# 1. 信息贫瘠

- 原始数据中的特征通常存在问题
  - **特征维度低**：特征数量少，不足以描述问题的复杂性
  - **特征信息量不足**：现有特征的表征能力弱（ 如 原始特征需拆解，单变量无法捕捉关键模式 等 ）

## 2 基础统计变换

#### 2.1 单特征

- 数值函数
  - 开方
    - 用于处理 右偏分布，指数据分布的尾部向右侧延伸较长
    - 比如 多数人收入集中在 1 万至 50 万，但少数人收入高达数千万，形成右偏
  - 平方
    - 用于处理 左偏分布 或 需要强调最大值差异的场景
  - 对数
    - 用于处理 右偏分布，和 开方 的作用类似，但是 对数 的压缩力度更大，适用于更极端的 右偏分布
  - 指数
    - 用于处理 左偏分布，和 平方 的作用类似，但是 指数 的放大力度更大，适用于更极端的 左偏分布
  - 绝对值
    - 用于消除符号影响，适用于当数据的正负方向不携带关键信息的场景
    - 比如传感器记录的振动值可能正负交替，但故障检测只需关注振动强度，而无论方向
  - sin/cos
    - 用于处理周期性变化，适用于周期性变化的特征，如时间序列数据中的周期性变化
    - 以小时为例，周期为 24，即 0-23 小时循环一次，将其转换为弧度后计算正弦和余弦值，计算公式 sin(2π \* h / 24) 和 cos(2π \* h / 24)，比如 0 点的 sin 值为 0，23 点的 sin 值为 -0.065，这样模型能获取到连续性
    - 通常同时使用 sin 和 cos，比如 角度 30° 和 150° 的 sin 值都是 0.5，导致模型无法区分，丢失信息，但它们 cos 值不同
    - 非周期性变化特征最好不要使用该方法，会引入噪音
- 离散化
  - 和数据转换中的离散化一样，主要有 等距分箱、等频分箱、聚类分箱、决策树分箱 等方法
  - 但和数据转换不同的是，特征工程的离散化会创建新的特征，而数据转换则是在原始特征上进行操作，不会创建新特征

## 2.2 多特征

- 特征交叉
  - 数值特征，比如 加（ A+B ）、减（ A-B ）、乘（ A×B ）、除（ A/B ），或者比值差异（ (A-B)/(A+B) ）等
  - 分类特征，例如，用 “性别 × 地区” 作为独热编码后的新特征
- 统计聚合
  - 对分组数据计算均值、方差、计数、分位数、最大值/最小值、唯一值数量等。例如，计算 “用户 A 过去 7 天的平均步数”，“用户 B 最近 3 次交易的最大金额”
  - 衍生而来，可以对分组数据进行均值等处理后，再用原始数据去数值计算。例如，计算 “用户 A 相比于亚洲人种平均身高的差异”

## 3. 时间序列数据场景

- 时间戳提取
  - 从时间戳提取 年/月/日、星期几、是否节假日、距特定事件时间，比如 “距双 11 前 3 天”，“距双 11 后 7 天”
  - 例如，原始时间 “2025-04-23 15:45:00” 可以构造 “月份 = 4”，“小时 = 15”，“是否周末 = 否“，这个时候周期性变化就非常适合 sin/cos 处理
- 时间窗口特征
  - 滑动窗口：固定窗口大小滚动计算，例如 “过去 7 天平均步数”、“最近 3 次交易的最大金额”
  - 衰减窗口：近端数据权重更高（ 指数衰减 ），例如 “用户最近 30 天活跃度的 EMA”
  - 扩展窗口：从起始点累积到当前时刻，例如 “用户注册至今总消费金额”
- 趋势特征
  - STL 分解：
    - 将时间序列拆解为 趋势（ Trend ）、季节（ Seasonal ）、残差（ Residual ） 三个独立成分
    - 适用于复杂季节性模式的分析（ 即数据同时存在日、周、年等周期性 ）
  - Holt-Winters：
    - 基于指数平滑的三参数模型，预测时同时考虑 水平（ Level ）、趋势（ Trend ）、季节性（ Seasonality ）
- 滞后特征
  - n 阶滞后：使用 n 个历史数据作为当前特征，例如用 “t-1、t-2、t-3 时刻的温度” 预测 "t 时刻的温度"
  - 同比滞后：以上年同期的数据作为当前特征，例如用 “去年同一时刻的温度” 预测 “今年同一时刻的温度”
  - 环比滞后：与上一个相邻统计周期的数据作为当前特征，例如用 “上个月同一时刻的数据” 预测 “当前月同一时刻的数据”

## 4. 基于领域知识

- 金融领域
  - 风险指标：流动比率（ 流动资产/流动负债 ）、杠杆率（ 总负债 / 净资产 ）
  - 用户行为：滚动逾期率（ 过去 90 天逾期次数/总借款次数 ）、资金利用率（ 已用信用额度/总信用额度 ）
- 电商领域
  - 用户价值：用户生命周期价值（ 平均客单价 \* 预期购买次数 ）、购物车放弃率（ 加入购物车未付款订单占比 ）
  - 商品分析：动销率（ 有销售的商品数/总商品数 ）、价格弹性（ 销量变化率/价格变化率 ）
- 医疗场景
  - 健康指标：BMI（ 体重(kg) / 身高(m)² ）、药物依从性（ 实际服药次数/医嘱服药次数 ）
  - 风险评分：CHA₂DS₂-VASc（ 房颤卒中风险评分 ）、APACHE II（重症患者死亡率预测）
- 工业领域
  - 设备健康：MTBF（ 平均无故障时间 ）
  - 能效分析：单位产量能耗（ 总耗电量/产出数量 ）、负载率（ 实际负载/额定负载 ）
