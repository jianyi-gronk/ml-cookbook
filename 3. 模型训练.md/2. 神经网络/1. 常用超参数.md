## 1. 超参数

- 超参数是指一类静态的参数，这些参数在模型训练之前被定义和设置，而且无法从给定的训练数据中进行学习估计
- 超参数调优是指通过找到一个超参数的组合以使得模型训练的损失函数值最小，本质就是通过多次尝试，找到最优超参数组合，有两种使用方式：
  - 手动超参数调优
  - 自动超参数调优
- 手动超参数调优更主观，如果有丰富的经验，可以快速的找到最优组合。但是很麻烦，而且很难更好地去管理超参数调优的流程，也容易出现人为的错误，尤其是在一个完整的产品开发、应用的标准流程中，手动管理也会造成整体流程连续性的断裂，所以自动超参数调优（ Automatic HPO ）更适合现代的应用开发流程

## 2. 常用超参数

#### 2.1 batch_size（ 批处理大小 ）

- 定义：每次迭代中用于训练的样本数量
- 作用：影响训练速度和稳定性。较大的 BATCH_SIZE 可以加快训练，但可能需要更多的内存；较小的 BATCH_SIZE 训练更稳定，但训练时间较长
- 取值建议：一般来说，常用的取值范围是 32 到 512。对于大型 GPU，可以考虑更大的值，如 1024 或以上，但要确保不会导致内存溢出

#### 2.2 learning_rate（ 学习率 ）

- 定义：用来调整每次参数更新的步长，即在梯度下降过程中，每次沿着梯度方向更新参数时所乘的比例因子
- 作用：决定了在每次参数更新时，参数沿着梯度方向移动的大小
- 取值建议：通常可以选择一个常见的默认值作为初始学习率，例如 0.01 或 0.001，太小了会导致训练效果过慢

#### 2.3 epochs（ 训练轮数 ）

- 定义：整个训练数据集被模型训练的次数
- 作用：决定训练的总轮数。更多的 epoch 允许模型更充分地学习，但也可能增加过拟合的风险
- 取值建议：常见的取值范围是 50 ～ 200，具体取决于数据集的大小和复杂度，可以从 50 不断放大尝试

#### 2.4 epochs_warmup（ 预热期 ）

- 定义：指定了在训练开始阶段应用的学习率预热期长度。预热期是指在训练开始时，逐步增加学习率以帮助模型更快地找到一个较好的初始状态。在预热期间，学习率从一个很小的值（ 接近 0 ）逐步增加到设定的初始学习率 learning_rate
- 作用：可以稳定训练初期，在训练刚开始时，模型可能处于较差的初始化状态，学习率较高可能导致训练不稳定或者损失函数波动较大。预热期允许模型逐步适应数据并稳定下来
- 取值建议：通常建议设置为相对较小的值，比如 1 或者 2。这意味着在训练的初期 1，2 个 epochs 中，学习率会从一个非常小的值逐步增加到一个合适的初始学习率

#### 2.5 epochs_ending（ 结束期 ）

- 定义：定义了在训练接近尾声时应用的学习率调度的结束阶段长度。通常在训练接近结束时，通过逐渐降低学习率来稳定模型的收敛状态，避免过早停止或者过拟合
- 作用：可以稳定收敛状态，在训练接近结束时，逐步降低学习率有助于模型稳定在一个较好的局部最优解附近，避免过拟合或者训练过早停止
- 取值建议：通常建议设置为 1 或者 2，以确保在训练接近结束时，学习率能够平稳下降，对于较大的数据集或者更复杂的模型可以设置稍大一些

#### 2.6 min_std（ 最小标准差 ）

- 定义：用于控制标准差的最小值
- 作用：防止标准差过小导致数值不稳定
- 取值建议：一般取值为一个非常小的正数，如 1e-8、1e-9 等，具体取决于你的任务需求和数据特性

#### 2.7 patience（ 耐心 ）

- 定义：在平均验证损失值不再改善时，要等待多少个 epoch 才停止训练
- 作用：与早停法（ early stopping ）相关，用于防止过拟合
- 取值建议：常见的取值范围是 5 到 10。6 也是一个合理的选择

#### 2.8 scheduler_patience（ 学习率调度器的耐心 ）

- 定义：设置调度器在降低学习率之前等待验证指标（ 如验证损失 ）不再改善的 epoch 轮数
- 作用：让学习率有足够时间在当前值下工作，避免过早调整
- 取值建议：常见的取值范围是 2 ～ 10，根据你的数据集大小和训练速度调整，一般 3 是一个合理的起点

#### 2.9 scheduler_factor（ 学习率调度器的因子 ）

- 定义：调整学习率的因子，通常小于 1
- 作用：决定每次调整时学习率衰减的幅度
- 取值建议：常见的取值范围是 0.1 ～ 0.5。可初始尝试使用 (10^{-0.5}) 即约 0.316，这在大多数情况下是合理的

#### 2.10 print_freq（ 打印频率 ）

- 定义：每隔多少步打印一次训练信息
- 作用：用于观察训练过程中的损失值和其他指标
- 取值建议：取值应根据数据集大小和训练速度调整。较小的数据集可以选择较高的频率（ 如 10 ），较大的数据集可以选择较低的频率（ 如 100 ）。50 是一个常见的中间值

#### 2.11 train_ratio（ 训练数据占比 ）

- 定义：训练数据占所有数据集的比例
- 作用：决定数据集的分割比例，影响模型的训练和验证效果
- 取值建议：通常取值在 0.7 到 0.9 之间。0.9 表示 90% 的数据用于训练，10% 用于验证，这是一个合理的选择，在数据量较大的情况下，甚至可能是 0.99
